<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>图片自适应大小</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" type="text/css" href="dist/photoswipe.css">
    <link rel="stylesheet" type="text/css" href="dist/default-skin/default-skin.css">
    <script src="http://apps.bdimg.com/libs/jquery/1.10.1/jquery.min.js"></script>
    <!--[if lt IE 9]>
        <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
    <![endif]-->
    <style type="text/css">
        *{padding:0;margin:0;list-style:none;}
        h1{text-align:center;padding:20px 0;font-size:24px; margin:0 auto;}
        .my-gallery{display:flex;padding-top:0;align-items:center; margin:0 2%;border:1px solid #d9d9d9;padding:20px 10px;justify-content: center;}
        .my-gallery figure{margin:0 10px;width:150px;}
        .my-gallery figure img{max-width:100%}
    </style>
</head>

<body>
    <h1>PhotoSwipe演示--图片自适应大小</h1>
    <div class="my-gallery">
        <figure>
            <a href="images/5.jpg" >
                <img src="images/5.jpg" />
            </a>
        </figure>
        <figure>
            <a href="images/6.jpg" >
                <img src="images/6.jpg" />
            </a>
        </figure>
        <figure>
            <a href="images/7.jpg" >
                <img src="images/7.jpg" />
            </a>
        </figure>       
        <figure>
            <a href="images/9.jpg" >
                <img src="images/9.jpg" />
            </a>
        </figure>
         <figure>
            <a href="images/8.jpg" >
                <img src="images/8.jpg" />
            </a>
        </figure>
    </div>
    <script type="text/javascript" src="dist/photoswipe.min.js"></script>
    <script type="text/javascript" src="dist/photoswipe-ui-default.min.js"></script>
    <script type="text/javascript" src="js/photoswipe-html.js"></script>
    <script type="text/javascript" src="js/photoswipe-init-from-dom.js"></script>
    <script type="text/javascript">
    initPhotoSwipeFromDOM('.my-gallery');
    </script>
    <script type="text/javascript">
    window.onload = function() {
        auto_data_size();
    };

    function auto_data_size() {
        var imgss = $("figure img");
        $("figure img").each(function() {
            var imgs = new Image();
            imgs.src = $(this).attr("src");
            var w = imgs.width,
                h = imgs.height;
            $(this).parent("a").attr("data-size", "").attr("data-size", w + "x" + h);
        })
    };
    </script>
</body>

</html>